<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>نظام استهلاك الوقود - المملكة العربية السعودية</title>
<style>
    body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        margin: 0;
        padding: 0;
        background-color: #f4f4f4;
    }
    header {
        background-color: #ffffff;
        color: #004aad;
        padding: 20px;
        text-align: center;
        box-shadow: 0 2px 8px rgba(0,0,0,0.2);
    }
    header img {
        height: 100px;
        margin-bottom: 10px;
    }
    .container {
        max-width: 1200px;
        margin: 20px auto;
        padding: 20px;
        background: white;
        border-radius: 10px;
        box-shadow: 0 0 15px rgba(0,0,0,0.2);
    }
    label {
        display: block;
        margin-top: 15px;
        font-weight: bold;
    }
    select, input[type=number], button {
        width: 100%;
        padding: 10px;
        margin-top: 5px;
        border-radius: 5px;
        border: 1px solid #ccc;
    }
    button {
        background-color: #004aad;
        color: white;
        font-size: 16px;
        cursor: pointer;
    }
    button:hover {
        background-color: #00308f;
    }
    #map {
        height: 500px;
        width: 100%;
        margin-top: 20px;
        border-radius: 10px;
    }
    .result {
        margin-top: 20px;
        font-size: 18px;
        font-weight: bold;
        color: #333;
    }
</style>
</head>
<body>

<header>
    <img src="https://i.ibb.co/SwgRSYjK/logo.png" alt="شعار النظام">
    <h1>نظام استهلاك الوقود - المملكة العربية السعودية</h1>
</header>

<div class="container">
    <label for="from">من:</label>
    <select id="from">
        <option value="">اختر المدينة أو الحي</option>
    </select>

    <label for="to">إلى:</label>
    <select id="to">
        <option value="">اختر المدينة أو الحي</option>
    </select>

    <label for="vehicle">نوع المركبة:</label>
    <select id="vehicle">
        <option value="">اختر نوع المركبة</option>
        <option value="خصوصي">خصوصي</option>
        <option value="فان">فان</option>
        <option value="حافلة">حافلة</option>
    </select>

    <label for="fuel">نوع الوقود:</label>
    <select id="fuel">
        <option value="">اختر نوع الوقود</option>
        <option value="91">91</option>
        <option value="95">95</option>
        <option value="ديزل">ديزل</option>
    </select>

    <button onclick="calculateFuel()">احسب استهلاك الوقود</button>

    <div class="result" id="result"></div>
    <div id="map"></div>
</div>

<script>
    // قائمة جميع المدن والأحياء السعودية (مثال مبسط، يمكن توسيعها لاحقًا)
    const locations = [
        "الرياض","الدرعية","الملز","القصيم","جدة","مكة المكرمة","المدينة المنورة",
        "الدمام","الهفوف","الطائف","بريدة","خميس مشيط","حائل","تبوك","جيزان","نجران",
        "عرعر","سكاكا","ينبع","أحياء الرياض","أحياء جدة","أحياء مكة","أحياء الدمام"
        // يمكن إضافة جميع الأحياء التفصيلية لكل مدينة
    ];

    const fromSelect = document.getElementById('from');
    const toSelect = document.getElementById('to');

    locations.forEach(loc => {
        const optionFrom = document.createElement('option');
        optionFrom.value = loc;
        optionFrom.textContent = loc;
        fromSelect.appendChild(optionFrom);

        const optionTo = document.createElement('option');
        optionTo.value = loc;
        optionTo.textContent = loc;
        toSelect.appendChild(optionTo);
    });

    let map, directionsService, directionsRenderer;

    function initMap() {
        map = new google.maps.Map(document.getElementById("map"), {
            center: { lat: 24.7136, lng: 46.6753 }, // الرياض
            zoom: 5,
        });
        directionsService = new google.maps.DirectionsService();
        directionsRenderer = new google.maps.DirectionsRenderer();
        directionsRenderer.setMap(map);
    }

    function calculateFuel() {
        const from = document.getElementById('from').value;
        const to = document.getElementById('to').value;
        const vehicle = document.getElementById('vehicle').value;
        const fuel = document.getElementById('fuel').value;

        if (!from || !to || !vehicle || !fuel) {
            alert("الرجاء اختيار جميع الحقول!");
            return;
        }

        const consumptionRate = {
            "خصوصي": 0.12, // لترات لكل كم
            "فان": 0.18,
            "حافلة": 0.25
        };

        directionsService.route(
            {
                origin: from + ", المملكة العربية السعودية",
                destination: to + ", المملكة العربية السعودية",
                travelMode: google.maps.TravelMode.DRIVING
            },
            function(result, status) {
                if (status === 'OK') {
                    directionsRenderer.setDirections(result);
                    const distanceKm = result.routes[0].legs[0].distance.value / 1000;
                    const fuelUsed = distanceKm * consumptionRate[vehicle];
                    document.getElementById('result').innerHTML =
                        `المسافة: ${distanceKm.toFixed(2)} كم<br>
                        نوع المركبة: ${vehicle}<br>
                        نوع الوقود: ${fuel}<br>
                        استهلاك الوقود: ${fuelUsed.toFixed(2)} لتر`;
                } else {
                    alert("حدث خطأ في حساب المسار: " + status);
                }
            }
        );
    }
</script>

<script async
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCWQ2q1HU_LLQKkp2KRlOZ1FdF0bI6jBbM&callback=initMap&language=ar">
</script>

</body>
</html>

